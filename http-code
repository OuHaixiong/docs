
下面是对http各状态的总结：
500：服务器内部错误，服务器遇到意外，无法履行请求
502：指请求的php-fpm已经执行，但由于某种原因而没有执行完毕，最终导致php-fpm进程终止
504：表示超时

500:php代码有问题，比如打印了一个未定义的常量。或数据量太大，通过foreach循环时，超过最大层级数,或读取数据库时，从数据库读取的数据量超过了php的最大内存量
或者服务器资源超载，无法处理过来请求【并发数多】。或文件权限设置错误。或.htacess文件的语法错误（如果你用的是apache）。
或磁盘空间满了【df -k】 非必须：nginx如果开启了access log，在不需要的情况下，最好关闭access log。access log会占用大量硬盘空间
或nginx如果配置文件有错误（这里不是指语法错误，nginx如果配置文件有语法错误，启动的时候就会提示）。当配置rewrite的时候，有些规则处理不当会出现500错误，
请仔细检查自己的rewrite规则。如果配置文件里有些变量设置不当，也会出现500错误，比如引用了一个没有值的变量。 


502:php进程挂了或nginx挂了，或程序代码有问题，如陷入死循环. 
 php-cgi进程数不够用、php执行时间长、或者是php-cgi进程死掉，都会出现502错误。
如果是php-cig进程数不够用，解决方案：
增大配置/usr/local/php/etc/php-fpm.conf中的pm.max_children（一般一个php-cgi进程占20M内存，你可以自己计算下，适量增多。）

504(Gateway Time-out): 执行超时，有可能是连接数据库时，无法连接，导致php脚本超时。也可能是程序陷入了死循环。
 后证实连接redis服务器，无法连接时是抛异常，而非504错误，但是如果是session保存入redis时，无法连接也是报504 Gateway Time-out
 或请求过多，长时间没有得到处理的请求，也会报504

403 forbidden:（ 表示你在请求一个资源文件但是nginx不允许你查看。）貌似是代理服务器和后端服务器通信有点问题，重启下代理服务器就好了
403有两种情况，一是服务器的文件不允许读取
二是nginx有ip地址限制，不允许不明来历的ip地址进行访问

301永久跳转（对搜索友好） 302临时跳转


出现场景：
在用nginx做负载均衡服务器对系统做并发测试，并发量比较大时Nginx会报出Http 500错误
报错原因：
访问量大的时候，由于系统资源限制，而不能打开过多的文件
原因查找：
    打开nginx错误日志（/usr/local/nginx/logs/error.log）
    查看是否报too many open files错误
错误解决：
    打开/etc/security/limits.conf
    修改 limits.conf文件，在文件末加上下面两句命令
* soft nofile 65535
* hard nofile 65535
或
* soft nofile 8192
* hard nofile 20480
同时vi /etc/sysctl.conf末尾添加【不知道这个是否必须】
fs.file-max=8192
重新启动，在使用ulimit -n查看的数已经是8192
    打开/usr/local/nginx/conf/nginx.conf，在worker_processes的下面增加一行配置
worker_rlimit_nofile 65535;
    重新启动nginx，问题解决
    
    

